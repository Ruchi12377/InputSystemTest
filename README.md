# InputSystemTest
InputSystemのテスト  
GitHubにファイルをアップロードするのに慣れていないため必要そうなものだけ手動でアップロードしました  
恐らくプロジェクトとしては壊れていますが、強引に開けば動いてくれるはず  
Unityのバージョンは2021.2.0bの系統を使っています  
InputSystem のバージョン1.1系ではポーリング方式で使用する際のAPIが追加されたようなのでこれを使いたいです  

## InputSystemフォルダ内のものについて
InputSystem.inputsettingsというアセットにInputSystemの設定が保存されています  
このアセット中のUpdate ModeをProcess Event in Fixed Updateに設定すると  
InputSystemの更新タイミングがFixed Updateと同期されるようなのでこれを利用したいです  

デフォルトのバインディングなどの設定はInputActionAssetから行うつもりです  
ここではInputActionAssetにGameControlsという名前をつけて保存しています  
また、Ganerate C# classのオプションを用いることで同名クラスを自動生成しています  

自動生成されたGameControlsクラスはInputActionAssetで設定した内容を元にInputActionを作ってくれるようです    
また、InputActionAssetで設定したInputActionMapごとに纏めた構造体を生成してくれるようです  
このGameControlsクラスを用いれば特定のInputActionMapに属するInputActionを纏めてオンオフできそうです  
ですが、GameControlsクラスは複数インスタンスを作れるようなのでそのまま使うのは管理上不便そうです

## Scenesフォルダ内のものについて
Mainシーンのみしかありません

## Scriptsフォルダ内のものについて
管理用のシングルトンクラスとその利用クラスが一つずつあります  
InputManagerクラスは管理用のシングルトンなMonoBehaviorです
当初は非MonoBehaviorで作るつもりだったのですが厳しそうだったため断念しました  
自動生成されたクラスのコンストラクタ呼び出しタイミングがAwake()かStart()でないとまずそうだったためです
とりあえずで作ったためこのままで良いのか心配です

Testクラスはその利用クラスを想定しています  
このクラスを見れば分かるようにinput.Jump.WasPressedThisFrame()などと旧InputManagerに近い使い勝手で利用できます
また、InputSystemの更新タイミングは上述したようにFixed Updateに合わせられるのでFixedUpdate内部で呼び出してもよさそうです

## その他（やりたいことや気になる点など）
機能や使い勝手、実装などを考慮したときに管理クラスがこれでいいのかが気になります

InputSystemの利点は生かしつつもスクリプトで利用するときは旧InputManagerに近いようにしたいです

同じ入力が別の意味になるときにも対応したいです  
例:マウス操作⇒「カーソルを動かして選択肢を選ぶ」「カメラを動かす」など  
（特定のInputActionMapのオンオフでいい？）

キーコンフィグ機能をつけられるなら対応したいです  
(バインドを変更する機能と変更後にデフォルトにリセットする機能があればよい)  
